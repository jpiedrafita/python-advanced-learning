# Null

- [Before Null](#before-null)
- [Implementing the Null Pattern](#implementing-the-null-pattern)
- [Summary (Null)](#summary-null)

---

**Problem it solves:**
- Avoids the need for clients to check for `None` (null) values before using an object.
- Prevents `AttributeError` or `NoneType` exceptions by providing a _default_ or _do-nothing_ object in place of None.

**Why it’s useful:**
- Clients can use the object _without conditional checks_.
- Simplifies logic in client code by reducing if-statements.
- Can be integrated with **Factory** and **Builder** patterns to return a NullObject when no valid object is found.
## Before Null

*myclass.py*
```python
from abs_class import AbsClass

class MyClass(AbsClass):
    def do_something(self, value):
        print('Doing %s.' % value)
```

- This is a generic class in a program that uses the [[#Factory Pattern]].

*myobjectfactory.py*
```python
from myclass import MyClass

class MyObjectFactory:
    @staticmethod
    def create_object(value):
        if value == 'myclass':
            return MyClass()
```

- This is the object factory class that has one static method which returns an instance of `MyClass` if the value supplied matches that name.

*\_\_main__.py*
```python
from myobjectfactory import MyObjectFactory

myobj = MyObjectFactory.create_object('myclass')

if myobj:
    myobj.do_something('something')
else:
    print('Not doing anything.')
```

- The `__main__` program uses the object factory to get an instance of the desired object, and test it.

```bash
BeforeNull> python .\__main__.py
Doing something.

# After changing 'myclass' by 'notmyclass' in create_object() call
BeforeNull> python .\__main__.py
Not doing anything.
```

- The Null pattern will allow us to stop writing those tests.

## Implementing the Null Pattern

- Use the Bull pattern where tests for valid references are required.
- A method that is called will return a functioning dummy object instead of returning nothing.
- The calling object always knows it has a valid object to use without the need to check it.

*myobjectfactory.py*
```python
from myclass import MyClass

class MyObjectFactory:
    @staticmethod
    def create_object(value):
        if value == 'myclass':
            return MyClass()
        else:
			# Returns a Null object that does nothing if the requested class does not match
	        return NullClass()
```

- **This implementation avoids returning None** by always returning a valid object that adheres to the expected interface.
- **If the requested object type is not found**, a `NullClass` instance is returned instead of `None`.
- The `NullClass` provides a default behavior, so the client code doesn’t need to check for None before calling methods.

*nullclass.py*
```python
from abc_class import AbsClass

class NullClass(AbsClass):
	# This method fulfills the interface but does nothing meaningful
	def do_something(self, value):
		print('Not doing %s', % value)
```

- `NullClass` implements the same interface as `MyClass` by inheriting from `AbsClass`.
- It **provides a do-nothing implementation** of `do_something`, used when no valid object is available.
- This ensures that **client code can call `do_something` without checking for `None`**.
- The method is intentionally harmless and avoids side effects.

*\_\_main__.py*
```python
from myobjectfactory import MyObjectFactory

myobj = MyObjectFactory.create_object('myclass')
myobj.do_something('something')

myobj = MyObjectFactory.create_object('notmyclass')
myobj.do_something('something')
```

```bash
BeforeNull> python .\__main__.py
Doing something.
Not doing anything.
```

## Summary (Null)

- Provides a **default object** when no real one is available
- The default object **implements required methods**, but doesn’t need to perform any action
- **Eliminates the need for None checks** in the client code
- Clients can simply **use the returned object confidently**
- Not limited to classes — also works well with **functions, iterators, and generators**
- Can be combined with other patterns like **Strategy**
- ⚠️ Next time you see a None test,
        → **Consider using the Null Pattern instead!**