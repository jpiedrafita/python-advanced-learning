# 4.2 UserLists

## 4.2.1 Understanding and Using UserLists

- **`UserList`** is really similar to the `UserString` class, but instead of a string, you can subclass a list. Just like `UserString`, `UserList` is a wrapper around the built-in `list` class, and just like `UserString`, it is implemented in Python.

### Extending and Modifying Standard List Features

- **Core functionality modification**: You can modify the core functionality of built-in lists by overriding key methods. Here's an example of a unique list class that doesn't allow duplicate elements.

```python
class UniqueList(list):
    def __init__(self, iterable=[]):
        super().__init__()
        self.extend(iterable)

    def append(self, item):
        if item not in self:
            super().append(item)

    def extend(self, iterable):
        for item in iterable:
            self.append(item)

# Initialize with duplicates in the list
unique_list = UniqueList([1, 2, 2, 3, 4, 4, 4])
print(unique_list)

unique_list.append(5)
unique_list.append(5)  # Attempt to add a duplicate
print(unique_list)

unique_list.extend([6, 6, 7])
print(unique_list)
```

Output:
```python
[1, 2, 3, 4]
[1, 2, 3, 4, 5]
[1, 2, 3, 4, 5, 6, 7]
```

### UserList Implementation

- **Equivalent UserList implementation**: The exact same class can be implemented by subclassing the `UserList` collection class. The only difference is the call to the `data` attribute.

```python
from collections import UserList

class UniqueList(UserList):
    def __init__(self, iterable=[]):
        super().__init__()
        self.extend(iterable)

    def append(self, item):
        # self.data instead of just self
        if item not in self.data:
            super().append(item)

    def extend(self, iterable):
        for item in iterable:
            self.append(item)

unique_list = UniqueList([1, 2, 2, 3, 4, 4, 4])
print(unique_list)

unique_list.append(5)
unique_list.append(5)
print(unique_list)

unique_list.extend([6, 6, 7])
print(unique_list)
```

Output:
```python
[1, 2, 3, 4]
[1, 2, 3, 4, 5]
[1, 2, 3, 4, 5, 6, 7]
```

### UserList vs Built-in List

- **Minimal differences**: Even if you remove the `data` attribute and just use `self`, the `UserList` class would still know what to do, making the differences between `UserList` and built-in `list` subclassing minimal.

- **Limited usefulness**: As far as practical applications are concerned, the `UserList` class is only useful for backward compatibility with older Python versions.

- **Performance considerations**: Like `UserString`, `UserList` is implemented in Python and will generally be slower than built-in lists implemented in C.

**Summary**: `UserList` provides the same wrapper functionality as `UserString` but for lists. In modern Python development, directly subclassing the built-in `list` class is almost always preferred due to better performance and identical functionality.
